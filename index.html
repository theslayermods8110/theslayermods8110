<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Integrado Pro v3 - Corriente Sangu√≠nea v2</title>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-purple: #9333ea;
            --light-purple-hover: #a855f7;
            --bright-purple: #c084fc;
            --dark-bg: #050508;
            --panel-bg-glass: rgba(16, 16, 24, 0.92);
            --content-bg-fallback: #0d0d12;
            --text-color: #f8f8fc;
            --text-secondary: #b0b0c0;
            --border-color: rgba(147, 51, 234, 0.3);
            --border-hover-color: rgba(192, 132, 252, 0.9);
            --border-active-color: var(--bright-purple);
            --active-bg: rgba(168, 85, 247, 0.2);
            --border-radius-sml: 10px;
            --border-radius-med: 15px;
            --box-shadow-color: rgba(147, 51, 234, 0.1);
            --box-shadow-hover-color: rgba(192, 132, 252, 0.35);
            --box-shadow-inset: rgba(0, 0, 0, 0.4);
            --glow-color: rgba(168, 85, 247, 0.5);
            --glow-active: rgba(192, 132, 252, 0.75);
            --panel-width: 275px;
            --extreme-duration-fast: 0.4s;
            --extreme-duration-med: 0.6s;
            --extreme-duration-slow: 0.75s;
            --extreme-duration-content: 0.7s;
            --elastic-bounce-bezier: cubic-bezier(0.68, -0.6, 0.32, 1.6);
            --liquid-overshoot-bezier: cubic-bezier(0.5, 1.6, 0.5, 1);
            --anticipate-bezier: cubic-bezier(0.4, -0.5, 0.6, 1);
            --dampened-spring-bezier: cubic-bezier(0.2, 1.2, 0.4, 1);
            --smooth-out-bezier: cubic-bezier(0.25, 0.8, 0.25, 1); /* Added for smooth return */
        }

        @keyframes buttonInflateWobble {
            0%   { transform: scale(1) translateY(0); filter: brightness(1); }
            30%  { transform: scale(1.08, 1.05) translateY(-4px); filter: brightness(1.15); }
            60%  { transform: scale(0.98, 1.02) translateY(-1px); filter: brightness(1.05); }
            100% { transform: scale(1.03, 1.01) translateY(-2px); filter: brightness(1.1); }
        }
        @keyframes cogWobbleSpin {
            0% { transform: rotate(0deg) scale(1); text-shadow: 0 0 6px var(--primary-purple), 0 0 12px var(--primary-purple); }
            25% { transform: rotate(60deg) scale(1.1); }
            50% { transform: rotate(120deg) scale(0.95); text-shadow: 0 0 10px var(--light-purple-hover), 0 0 20px var(--light-purple-hover), 0 0 5px white; }
            75% { transform: rotate(160deg) scale(1.05); }
            100% { transform: rotate(180deg) scale(1); text-shadow: 0 0 8px var(--primary-purple), 0 0 16px var(--primary-purple); }
        }
         @keyframes cogWobbleSpinBack {
            0% { transform: rotate(180deg) scale(1); text-shadow: 0 0 10px var(--light-purple-hover), 0 0 20px var(--light-purple-hover), 0 0 5px white; }
            25% { transform: rotate(120deg) scale(1.1); }
            50% { transform: rotate(60deg) scale(0.95); text-shadow: 0 0 6px var(--primary-purple), 0 0 12px var(--primary-purple); }
            75% { transform: rotate(20deg) scale(1.05); }
            100% { transform: rotate(0deg) scale(1); text-shadow: 0 0 6px var(--primary-purple), 0 0 12px var(--primary-purple); }
        }
        @keyframes iconBoing {
            0% { transform: scale3d(1, 1, 1); }
            30% { transform: scale3d(1.35, 0.75, 1); }
            40% { transform: scale3d(0.75, 1.35, 1); }
            50% { transform: scale3d(1.25, 0.85, 1); }
            65% { transform: scale3d(0.9, 1.2, 1); }
            80% { transform: scale3d(1.1, 0.95, 1); }
            100% { transform: scale3d(1.1, 1, 1); }
        }
        @keyframes textGlowPulse {
             0%, 100% { text-shadow: 0 0 2px rgba(248, 248, 252, 0.5); }
             50% { text-shadow: 0 0 8px rgba(248, 248, 252, 1), 0 0 4px var(--bright-purple); }
        }
        @keyframes shuttleWarpDrive {
            0% { transform: translateY(0) scale(1) rotate(-1deg); opacity: 0.9; filter: blur(0px); }
            48% { transform: translateY(-10px) scale(1.05) rotate(1deg); opacity: 1; filter: blur(0px); }
            50% { transform: translateY(-10px) scale(1.5, 0.5) rotate(1deg); opacity: 0.5; filter: blur(3px); }
            52% { transform: translateY(0) scale(1) rotate(-1deg); opacity: 0.9; filter: blur(0px); }
            100% { transform: translateY(0) scale(1) rotate(-1deg); opacity: 0.9; filter: blur(0px); }
        }
        @keyframes pointerPulseGlow {
             0%, 100% { transform: scale(1); opacity: 0.6; filter: drop-shadow(0 0 4px var(--glow-color)); }
             50% { transform: scale(1.2); opacity: 1; filter: drop-shadow(0 0 10px var(--bright-purple)); }
        }
        @keyframes spinnerStretch {
            0%, 100% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.2, 0.8); }
        }
        @keyframes backgroundPulseShift {
            0% { background-position: 0% 50%; filter: saturate(1); }
            50% { background-position: 100% 80%; filter: saturate(1.1) brightness(1.05); }
            100% { background-position: 0% 50%; filter: saturate(1); }
        }
        @keyframes fillEffect {
            0% { transform: scaleX(0); }
            100% { transform: scaleX(1); }
        }
        @keyframes subtleShine {
            0% { transform: translateX(-100%) skewX(-20deg); opacity: 0.1; }
            100% { transform: translateX(100%) skewX(-20deg); opacity: 0; }
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        ::-webkit-scrollbar { width: 0px; background: transparent; }

        html { height: 100%; scroll-behavior: smooth; }
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(140deg, #0f101a, #151528, #050508, #100a15 );
            background-size: 200% 200%;
            animation: backgroundPulseShift 18s ease-in-out infinite;
            color: var(--text-color); min-height: 100vh; line-height: 1.65;
            overflow: hidden; position: relative; display: flex; flex-direction: column;
            -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
        }
        .contenedor-principal {
            flex-grow: 1; display: flex; position: relative; min-height: 100vh; overflow: hidden;
        }

        #menu-toggle {
            position: fixed; top: 18px; left: 18px; z-index: 1001;
            background: linear-gradient(145deg, var(--primary-purple), var(--light-purple-hover));
            color: white; border: none; padding: 13px 15px; font-size: 1.45em;
            border-radius: var(--border-radius-sml); cursor: pointer;
            box-shadow: 0 6px 15px rgba(0,0,0,0.45), 0 0 10px var(--glow-color);
            transition: transform var(--extreme-duration-med) var(--elastic-bounce-bezier),
                        box-shadow var(--extreme-duration-med) var(--dampened-spring-bezier),
                        background var(--extreme-duration-med) var(--dampened-spring-bezier);
            will-change: transform, box-shadow;
        }
        #menu-toggle:hover {
            transform: scale(1.2) translateY(-2px);
            box-shadow: 0 10px 25px rgba(192, 132, 252, 0.45), 0 0 22px var(--glow-active);
        }
        #menu-toggle i.fa-cog {
            display: block; color: white;
            text-shadow: 0 0 6px var(--primary-purple), 0 0 12px var(--primary-purple);
            transition: text-shadow var(--extreme-duration-fast) ease;
            animation: cogWobbleSpinBack 0.8s var(--dampened-spring-bezier) forwards;
            will-change: transform, text-shadow;
        }
        #menu-toggle.icon-rotated i.fa-cog {
             animation: cogWobbleSpin 0.9s var(--elastic-bounce-bezier) forwards;
        }
        #menu-toggle:focus-visible { outline: 3px solid var(--bright-purple); outline-offset: 3px; }
        #menu-toggle:active {
            transform: scale(0.9);
            transition: transform 0.15s var(--anticipate-bezier);
            box-shadow: 0 2px 5px rgba(0,0,0,0.3), 0 0 4px var(--glow-color);
        }

        #panel-navegacion {
            position: fixed; top: 0; left: 0; bottom: 0;
            width: var(--panel-width);
            background: var(--panel-bg-glass); backdrop-filter: blur(18px); -webkit-backdrop-filter: blur(18px);
            border-right: 1px solid var(--border-color);
            box-shadow: 8px 0 35px rgba(0,0,0,0.4), 4px 0 20px var(--box-shadow-color);
            display: flex; flex-direction: column;
            padding-top: 0; padding-bottom: 0;
            overflow: hidden; z-index: 1000; transform: translateX(-100%);
            transition: transform var(--extreme-duration-slow) var(--dampened-spring-bezier);
            will-change: transform;
        }
        #panel-navegacion.panel-visible { transform: translateX(0); }

        .contenedor-principal.panel-is-interacting #area-contenido {
            transform: scale(0.98) translateX(15px);
            filter: brightness(0.95);
        }
        .contenedor-principal.panel-is-open #area-contenido {
            transform: scale(0.97) translateX(30px);
            filter: brightness(0.9);
            border-radius: 20px;
        }

        .panel-scroll-content {
            flex-grow: 1; overflow-y: auto;
            padding: 85px 25px 35px 25px;
             scrollbar-width: none;
             -ms-overflow-style: none;
        }
        .panel-scroll-content::-webkit-scrollbar { display: none; }

        .panel-content-wrapper { display: flex; flex-direction: column; min-height: 100%; }

        #panel-navegacion.panel-visible .panel-scroll-content .boton-panel,
        #panel-navegacion.panel-visible .panel-scroll-content .panel-separator,
        #panel-navegacion.panel-visible .panel-scroll-content #boton-inicio {
             opacity: 0;
             transform: translateY(40px) scale(0.9) skewY(3deg);
             animation: none;
             transition: opacity var(--extreme-duration-med) var(--elastic-bounce-bezier) 0s,
                         transform var(--extreme-duration-slow) var(--elastic-bounce-bezier) 0s;
             will-change: opacity, transform;
        }
        #panel-navegacion.panel-visible .panel-content-wrapper > .boton-panel:nth-of-type(1) { transition-delay: 0.05s; }
        #panel-navegacion.panel-visible .panel-content-wrapper > .boton-panel:nth-of-type(2) { transition-delay: 0.09s; }
        #panel-navegacion.panel-visible .panel-content-wrapper > .boton-panel:nth-of-type(3) { transition-delay: 0.13s; }
        #panel-navegacion.panel-visible .panel-content-wrapper > .boton-panel:nth-of-type(4) { transition-delay: 0.17s; }
        #panel-navegacion.panel-visible .panel-content-wrapper > .boton-panel:nth-of-type(5) { transition-delay: 0.21s; }
        #panel-navegacion.panel-visible .panel-separator { transition-delay: 0.25s; transition-property: opacity, transform, background; }
        #panel-navegacion.panel-visible #boton-inicio { transition-delay: 0.29s; }

        #panel-navegacion.panel-visible .panel-scroll-content .boton-panel,
        #panel-navegacion.panel-visible .panel-scroll-content .panel-separator,
        #panel-navegacion.panel-visible .panel-scroll-content #boton-inicio {
            opacity: 1;
            transform: translateY(0) scale(1) skewY(0deg);
        }

        .boton-panel {
            display: flex; align-items: center; gap: 16px;
            width: 100%; padding: 15px 18px; margin-bottom: 18px;
            background-color: transparent;
            border: 1px solid var(--border-color); color: var(--text-secondary);
            font-size: 1.1em; font-weight: 400; text-align: left;
            border-radius: var(--border-radius-sml); cursor: pointer; text-decoration: none;
            transition: color var(--extreme-duration-fast) ease,
                        border-color var(--extreme-duration-fast) ease,
                        transform var(--extreme-duration-fast) var(--elastic-bounce-bezier),
                        box-shadow var(--extreme-duration-fast) ease;
            will-change: color, border-color, transform, box-shadow;
            position: relative; overflow: hidden; transform: scale(1);
            z-index: 1;
        }
        .boton-panel::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: linear-gradient(45deg, var(--primary-purple), var(--light-purple-hover));
            opacity: 0;
            transform: scaleY(0);
            transform-origin: bottom;
            transition: transform var(--extreme-duration-med) var(--liquid-overshoot-bezier),
                        opacity var(--extreme-duration-fast) ease;
            will-change: transform, opacity;
            z-index: -1;
            border-radius: inherit;
        }
         .boton-panel::after {
             content: '';
             position: absolute;
             top: 0; left: 0;
             width: 150%; height: 100%;
             background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
             transform: translateX(-100%) skewX(-20deg);
             opacity: 0;
             transition: transform 0s, opacity 0s;
             z-index: 0;
         }
         .boton-panel:hover::after {
              animation: subtleShine 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
              transition: none;
         }

        .boton-panel:hover::before {
            transform: scaleY(1);
            opacity: 0.18;
        }
        .boton-panel.active::before {
             transform: scaleY(1);
             opacity: 0.22;
             transition-duration: var(--extreme-duration-fast);
        }

        .boton-panel i {
            flex-shrink: 0; width: 24px; text-align: center; color: var(--primary-purple); font-size: 1.25em;
            transition: color var(--extreme-duration-fast) ease, transform var(--extreme-duration-med) var(--elastic-bounce-bezier);
            will-change: color, transform;
            z-index: 1;
        }
        .boton-panel span {
            overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
            transition: color var(--extreme-duration-fast) ease;
             z-index: 1;
        }
        .boton-panel:hover {
            border-color: var(--border-hover-color); color: var(--text-color);
            animation: buttonInflateWobble 0.6s var(--dampened-spring-bezier) forwards;
        }
         .boton-panel:not(:hover) {
             animation: none;
             transition: transform 0.2s ease-out, filter 0.2s ease-out;
         }

        .boton-panel:hover i {
            color: var(--bright-purple);
            animation: iconBoing 0.5s var(--elastic-bounce-bezier) forwards;
        }
         .boton-panel:hover span {
             animation: textGlowPulse 1.3s ease-in-out infinite;
         }
         .boton-panel:focus-visible {
            outline: 3px solid var(--border-hover-color); outline-offset: 2px;
            border-color: var(--border-hover-color); color: var(--text-color);
        }
        .boton-panel:active {
            transform: scale(0.92) !important;
            transition: transform 0.1s var(--anticipate-bezier) !important;
            filter: brightness(0.9) !important;
            animation: none !important;
        }
         .boton-panel:active i { animation: none !important; }
         .boton-panel:active span { animation: none !important; }

        .boton-panel.active {
            border-color: var(--border-active-color); color: var(--text-color);
            box-shadow: 0 0 15px var(--glow-active), inset 0 0 10px rgba(192, 132, 252, 0.25);
            transform: scale(1.01);
            animation: none;
        }
        .boton-panel.active i { color: var(--bright-purple); transform: scale(1.1); animation: none; }
        .boton-panel.active:hover { cursor: default; border-color: var(--border-active-color); animation: none; }

        .boton-panel.youtube-link i.fa-youtube { color: #FF1f1f; }
        .boton-panel.youtube-link:hover { border-color: #FF6666; }
        .boton-panel.youtube-link:hover i.fa-youtube { color: #ff5555; }
         .boton-panel.youtube-link::before {
              background: linear-gradient(45deg, #ff3030, #ff6060);
         }

        .panel-separator {
             height: 1px; background: linear-gradient(90deg, transparent, rgba(168, 85, 247, 0.4), transparent); margin: 15px 0 35px 0;
             border: none; opacity: 0; transform: translateY(40px) scale(0.9) skewY(3deg);
             transition: background var(--extreme-duration-slow) ease;
        }
         #panel-navegacion.panel-visible .panel-separator {
            background: linear-gradient(90deg, transparent, rgba(192, 132, 252, 0.7), transparent);
         }

        #boton-inicio {
            margin-top: auto; padding-top: 30px; padding-bottom: 10px;
            opacity: 0; transform: translateY(40px) scale(0.9) skewY(3deg);
        }
        #boton-inicio button {
            display: flex; align-items: center; justify-content: center; gap: 12px; width: 100%; padding: 15px 17px; background-color: rgba(45, 45, 60, 0.9); border: 1px solid var(--text-secondary); color: var(--text-secondary); font-size: 1.08em; border-radius: var(--border-radius-sml); cursor: pointer;
            position: relative; z-index: 1; overflow: hidden;
            transition: color var(--extreme-duration-fast) ease, border-color var(--extreme-duration-fast) ease, transform var(--extreme-duration-fast) var(--elastic-bounce-bezier), box-shadow var(--extreme-duration-fast) ease;
             will-change: color, border-color, transform, box-shadow;
        }
         #boton-inicio button::before {
             content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
             background: linear-gradient(45deg, #666, #bbb); opacity: 0;
             transform: scaleY(0); transform-origin: bottom;
             transition: transform var(--extreme-duration-med) var(--liquid-overshoot-bezier), opacity var(--extreme-duration-fast) ease;
             will-change: transform, opacity; z-index: -1; border-radius: inherit;
         }
          #boton-inicio button::after {
             content: ''; position: absolute; top: 0; left: 0; width: 150%; height: 100%;
             background: linear-gradient(90deg, transparent, rgba(255,255,255,0.08), transparent);
             transform: translateX(-100%) skewX(-20deg); opacity: 0;
             transition: transform 0s, opacity 0s; z-index: 0;
         }
         #boton-inicio button:hover::after {
             animation: subtleShine 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards; transition: none;
         }
         #boton-inicio button:hover::before { transform: scaleY(1); opacity: 0.18; }

        #boton-inicio button i { flex-shrink: 0; color: var(--text-secondary); transition: color var(--extreme-duration-fast) ease, transform var(--extreme-duration-med) var(--elastic-bounce-bezier); will-change: color, transform; z-index: 1; }
        #boton-inicio button span { z-index: 1; transition: color var(--extreme-duration-fast) ease; }
        #boton-inicio button:hover {
             border-color: var(--text-color); color: var(--text-color);
             animation: buttonInflateWobble 0.6s var(--dampened-spring-bezier) forwards;
        }
         #boton-inicio button:not(:hover) { animation: none; transition: transform 0.2s ease-out, filter 0.2s ease-out; }

        #boton-inicio button:hover i { color: var(--text-color); animation: iconBoing 0.5s var(--elastic-bounce-bezier) forwards; }
        #boton-inicio button:focus-visible { outline: 3px solid var(--text-color); outline-offset: 2px; }
        #boton-inicio button:active {
            transform: scale(0.92) !important; transition: transform 0.1s var(--anticipate-bezier) !important; filter: brightness(0.9) !important; animation: none !important;
        }
        #boton-inicio button:active i, #boton-inicio button:active span { animation: none !important; }

        #area-contenido {
            flex-grow: 1; width: 100%; min-height: 100vh; overflow: hidden;
            display: flex; align-items: center; justify-content: center;
            position: relative; padding: 25px;
            perspective: 1500px;
             transition: transform var(--extreme-duration-slow) var(--dampened-spring-bezier),
                         filter var(--extreme-duration-slow) var(--dampened-spring-bezier),
                         border-radius var(--extreme-duration-slow) var(--dampened-spring-bezier);
             will-change: transform, filter, border-radius;
             border-radius: 0;
        }

        .loader-container {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(5, 5, 8, 0.8); display: flex; align-items: center; justify-content: center;
            z-index: 10; opacity: 0; visibility: hidden;
            transition: opacity 0.5s var(--dampened-spring-bezier), visibility 0s linear 0.5s;
            pointer-events: none;
            border-radius: inherit;
        }
        .loader-container.visible { opacity: 1; visibility: visible; transition-delay: 0.1s, 0.1s; }
        .spinner {
             width: 50px; height: 50px; border: none;
             border-radius: 50%;
             background: conic-gradient(from 0deg, transparent 0% 50%, var(--bright-purple) 90% 100%);
             animation: spinnerStretch 0.8s linear infinite;
        }

        #texto-inicial, #iframe-contenido {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            opacity: 0; visibility: hidden;
            transform: scale(0.96) rotateY(8deg) translateZ(-35px);
            filter: blur(1px);
            transform-origin: center right;
            transition: opacity var(--extreme-duration-content) var(--dampened-spring-bezier),
                        transform var(--extreme-duration-content) var(--dampened-spring-bezier),
                        filter var(--extreme-duration-content) ease,
                        visibility 0s linear var(--extreme-duration-content);
            will-change: opacity, transform, filter;
            border-radius: var(--border-radius-med); overflow: hidden;
            box-shadow: 0 15px 50px rgba(0,0,0,0.5), 0 0 20px var(--box-shadow-color);
        }

         #texto-inicial.content-visible,
         #iframe-contenido.content-visible {
            opacity: 1; visibility: visible;
            transform: scale(1) rotateY(0deg) translateZ(0px);
            filter: blur(0px);
            transition: opacity var(--extreme-duration-content) var(--smooth-out-bezier) 0.1s,
                        transform var(--extreme-duration-content) var(--dampened-spring-bezier) 0.1s,
                        filter var(--extreme-duration-content) var(--smooth-out-bezier) 0.1s,
                        visibility 0s linear;
         }

         #texto-inicial.content-hiding,
         #iframe-contenido.content-hiding {
            opacity: 0; visibility: hidden;
            transform: scale(0.96) rotateY(-8deg) translateZ(-35px);
            filter: blur(2px);
            transform-origin: center left;
            transition: opacity calc(var(--extreme-duration-content) * 0.85) ease,
                        transform calc(var(--extreme-duration-content) * 0.85) var(--anticipate-bezier),
                        filter calc(var(--extreme-duration-content) * 0.85) ease,
                        visibility 0s linear calc(var(--extreme-duration-content) * 0.85);
         }

        #texto-inicial {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; padding: 35px; color: var(--text-color);
            background: radial-gradient(ellipse at bottom, rgba(18, 18, 26, 0.98), rgba(10,10,15, 0.98));
            text-shadow: 1px 1px 4px rgba(0,0,0,0.7);
            font-style: normal; font-size: 1.18em;
            width: 100%; height: 100%;
        }
        #texto-inicial span {
            display: inline-flex; align-items: center; gap: 12px; margin-top: 20px; color: var(--text-secondary);
        }
         #texto-inicial i {
             color: var(--primary-purple); font-size: 1.4em; filter: drop-shadow(0 0 7px var(--glow-color)); text-shadow: none;
         }
         #texto-inicial .main-icon {
            font-size: 4.5em; margin-bottom: 30px; opacity: 0.95; color: var(--primary-purple);
            filter: drop-shadow(0 0 18px var(--glow-active));
            animation: shuttleWarpDrive 3.5s ease-in-out infinite;
            text-shadow: none;
         }
         #texto-inicial .fa-hand-pointer {
             animation: pointerPulseGlow 1.4s ease-in-out infinite;
         }

        #iframe-contenido {
             background-color: var(--content-bg-fallback); border: none; color-scheme: dark;
             width: 100%; height: 100%;
        }

         @media (max-width: 768px) {
            :root { --panel-width: 260px; }
             #area-contenido { padding: 20px; }
            #texto-inicial .main-icon { font-size: 4em; }
            .panel-scroll-content { padding: 80px 20px 30px 20px; }
             .contenedor-principal.panel-is-open #area-contenido { transform: scale(0.97) translateX(20px); }
         }
          @media (max-width: 480px) {
             #menu-toggle { top: 15px; left: 15px; }
             #area-contenido { padding: 15px; }
             #texto-inicial { font-size: 1.05em; padding: 25px; }
             #texto-inicial .main-icon { font-size: 3.5em; margin-bottom: 25px; }
             .panel-scroll-content { padding: 75px 15px 25px 15px; }
              #boton-inicio button { padding: 12px 14px; }
             .contenedor-principal.panel-is-open #area-contenido { transform: scale(0.96) translateX(15px); }
         }
    </style>
</head>
<body>
    <button id="menu-toggle" title="Mostrar/Ocultar Panel" aria-label="Toggle Navigation Menu" aria-controls="panel-navegacion" aria-expanded="false">
        <i class="fas fa-cog" aria-hidden="true"></i>
    </button>
    <div class="contenedor-principal" id="contenedor-principal">
        <nav id="panel-navegacion" role="navigation" aria-hidden="true">
            <div class="panel-scroll-content">
                <div class="panel-content-wrapper">
                    <button class="boton-panel" data-url="#">
                        <i class="fas fa-rocket fa-fw" aria-hidden="true"></i>
                        <span>TEXTO</span>
                    </button>
                    <button class="boton-panel" data-url="#">
                        <i class="fas fa-rocket fa-fw" aria-hidden="true"></i>
                        <span>TEXTO</span>
                    </button>
                    <button class="boton-panel" data-url="#">
                        <i class="fas fa-rocket fa-fw" aria-hidden="true"></i>
                        <span>TEXTO</span>
                    </button>
                    <button class="boton-panel" data-url="#">
                         <i class="fas fa-rocket fa-fw" aria-hidden="true"></i>
                         <span>TEXTO</span>
                    </button>
                    <a href="https://youtube.com/@lobodios7341?si=Lw-TiIaQ7m7dLnyY" target="_blank" rel="noopener noreferrer" class="boton-panel youtube-link" title="Visita mi canal de YouTube">
                         <i class="fab fa-youtube fa-fw" aria-hidden="true"></i>
                         <span>LoboDios7341</span>
                    </a>
                     <hr class="panel-separator">
                    <div id="boton-inicio">
                         <button title="Limpiar contenido y volver al inicio" aria-label="Clear content and return home">
                             <i class="fas fa-broom" aria-hidden="true"></i> <span>Limpiar</span>
                         </button>
                    </div>
                </div>
            </div>
        </nav>
        <main id="area-contenido" role="main">
            <div class="loader-container" id="loader">
                <div class="spinner"></div>
            </div>
            <div id="texto-inicial">
                 <i class="fas fa-space-shuttle main-icon" aria-hidden="true"></i>
                <span>
                  <i class="fas fa-hand-pointer" aria-hidden="true"></i> Haz clic en el icono <i class="fas fa-cog" aria-hidden="true"></i> para desplegar magia.
                </span>
            </div>
            <iframe id="iframe-contenido" src="about:blank" title="Contenido Cargado" sandbox="allow-scripts allow-forms allow-same-origin allow-popups allow-presentation" loading="lazy">
            </iframe>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuToggle = document.getElementById('menu-toggle');
            const panelNavegacion = document.getElementById('panel-navegacion');
            const contenedorPrincipal = document.getElementById('contenedor-principal');
            const botonesPanel = panelNavegacion.querySelectorAll('.panel-scroll-content .boton-panel[data-url]');
            const botonYoutube = panelNavegacion.querySelector('.panel-scroll-content .boton-panel.youtube-link');
            const iframeContenido = document.getElementById('iframe-contenido');
            const textoInicial = document.getElementById('texto-inicial');
            const botonLimpiar = document.querySelector('#boton-inicio button');
            const contentArea = document.getElementById('area-contenido');
            const loader = document.getElementById('loader');

            if (!menuToggle || !panelNavegacion || !contenedorPrincipal || !iframeContenido || !textoInicial || !botonLimpiar || !contentArea || !loader || !botonYoutube) {
                console.error("DOM Init Error");
                return;
            }

            const transitionDurationCSS = getComputedStyle(document.documentElement).getPropertyValue('--extreme-duration-content');
            const transitionDuration = parseFloat(transitionDurationCSS) * 1000 || 700;

            let isPanelActionInProgress = false;
            let panelTransitionTimeout;
            let activeContentElement = null;
            let activePanelButton = null;
            let loaderIntent = null;
            let interactionTimeout = null;

            function showLoader() {
                clearTimeout(loaderIntent);
                loaderIntent = setTimeout(() => {
                    if (activeContentElement === iframeContenido) { loader.classList.add('visible'); }
                }, 100);
            }
            function hideLoader() { clearTimeout(loaderIntent); loader.classList.remove('visible'); }

            function setActivePanelButton(buttonToActivate) {
                if (activePanelButton && activePanelButton !== buttonToActivate) activePanelButton.classList.remove('active');
                if (buttonToActivate && buttonToActivate !== botonYoutube) { buttonToActivate.classList.add('active'); activePanelButton = buttonToActivate; }
                else { if(activePanelButton) activePanelButton.classList.remove('active'); activePanelButton = null; }
            }

             function setActiveContent(elementToShow) {
                const currentVisible = [textoInicial, iframeContenido].find(el => el.classList.contains('content-visible'));

                if (currentVisible && currentVisible !== elementToShow) {
                    currentVisible.classList.remove('content-visible');
                    currentVisible.classList.add('content-hiding');
                    const hideDurationCSS = getComputedStyle(currentVisible).transitionDuration.split(',')[0];
                    const hideDuration = (parseFloat(hideDurationCSS) * 1000 || transitionDuration * 0.85) + 100;
                    setTimeout(() => {
                         if (currentVisible.classList.contains('content-hiding')) {
                            currentVisible.classList.remove('content-hiding');
                            currentVisible.style.visibility = 'hidden';
                         }
                    }, hideDuration);
                }

                if (elementToShow) {
                    elementToShow.classList.remove('content-hiding');
                    setTimeout(() => {
                        requestAnimationFrame(() => {
                            elementToShow.style.visibility = 'visible';
                            elementToShow.classList.add('content-visible');
                            activeContentElement = elementToShow;
                             if (elementToShow !== iframeContenido) hideLoader();
                        });
                    }, 120);
                } else { activeContentElement = null; hideLoader(); }
            }

            function setInteractingClass(isInteracting) {
                clearTimeout(interactionTimeout);
                if (isInteracting) {
                    contenedorPrincipal.classList.add('panel-is-interacting');
                } else {
                    interactionTimeout = setTimeout(() => {
                        contenedorPrincipal.classList.remove('panel-is-interacting');
                    }, 150);
                }
            }

            function handlePanelTransitionEnd() {
                isPanelActionInProgress = false;
                clearTimeout(panelTransitionTimeout);
                setInteractingClass(false);
                if (panelNavegacion.classList.contains('panel-visible')) {
                    contenedorPrincipal.classList.add('panel-is-open');
                } else {
                     contenedorPrincipal.classList.remove('panel-is-open');
                }
            }

            function setupTransitionEndFallback(element, callback, durationVar) {
                let ended = false;
                const durationCSS = getComputedStyle(document.documentElement).getPropertyValue(durationVar);
                const durationMs = (parseFloat(durationCSS) * 1000 || 750) + 200;

                const onEnd = (event) => {
                    if (event.target === element && event.propertyName === 'transform' && !ended) {
                        ended = true; element.removeEventListener('transitionend', onEnd); clearTimeout(fallbackTimeout); if (callback) callback();
                    }
                };
                element.addEventListener('transitionend', onEnd);

                const fallbackTimeout = setTimeout(() => {
                    if (!ended) { console.warn(`Fallback: ${element.id || element.className}`); ended = true; element.removeEventListener('transitionend', onEnd); if (callback) callback(); }
                }, durationMs);
                return fallbackTimeout;
            }

            function mostrarPanel() {
                if (isPanelActionInProgress || panelNavegacion.classList.contains('panel-visible')) return;
                isPanelActionInProgress = true;
                setInteractingClass(true);
                 contenedorPrincipal.classList.remove('panel-is-open');
                requestAnimationFrame(() => {
                    panelNavegacion.classList.add('panel-visible'); panelNavegacion.setAttribute('aria-hidden', 'false');
                    menuToggle.classList.add('icon-rotated'); menuToggle.setAttribute('aria-expanded', 'true');
                });
                panelTransitionTimeout = setupTransitionEndFallback(panelNavegacion, handlePanelTransitionEnd, '--extreme-duration-slow');
            }

            function ocultarPanel() {
                 if (isPanelActionInProgress || !panelNavegacion.classList.contains('panel-visible')) return;
                 isPanelActionInProgress = true;
                 setInteractingClass(true);
                 contenedorPrincipal.classList.remove('panel-is-open');
                 panelNavegacion.classList.remove('panel-visible'); panelNavegacion.setAttribute('aria-hidden', 'true');
                 menuToggle.classList.remove('icon-rotated'); menuToggle.setAttribute('aria-expanded', 'false');
                 panelTransitionTimeout = setupTransitionEndFallback(panelNavegacion, handlePanelTransitionEnd, '--extreme-duration-slow');
            }

            function togglePanel() { if (panelNavegacion.classList.contains('panel-visible')) ocultarPanel(); else mostrarPanel(); }

            function cargarUrlEnIframe(url, clickedButton) {
                ocultarPanel();
                 setTimeout(() => {
                    if (url && url !== "#") {
                         if (activeContentElement !== iframeContenido || iframeContenido.getAttribute('src') !== url) {
                             setActivePanelButton(clickedButton);
                             showLoader();
                             setActiveContent(iframeContenido);
                             try { iframeContenido.setAttribute('src', url); }
                             catch (e) { console.error("iFrame src err:", e); volverAlInicio(false, null); hideLoader(); }
                         } else { setActivePanelButton(clickedButton); hideLoader(); }
                    } else { volverAlInicio(false, null); }
                 }, 150); // Slightly longer delay for smooth exit
            }

            function volverAlInicio(forceHidePanel = true, clickedButton = null) {
                 if (forceHidePanel) ocultarPanel();
                 setTimeout(() => {
                     if (activeContentElement !== textoInicial) {
                          if(activeContentElement === iframeContenido) { try { iframeContenido.setAttribute('src', 'about:blank'); } catch(e) {} }
                         setActiveContent(textoInicial);
                     }
                     setActivePanelButton(clickedButton); hideLoader();
                 }, forceHidePanel ? 150 : 0);
            }

            menuToggle.addEventListener('click', togglePanel);
            botonesPanel.forEach(boton => {
                boton.addEventListener('click', (e) => {
                    if (boton.tagName === 'BUTTON') { e.preventDefault(); const url = boton.dataset.url; cargarUrlEnIframe(url, boton); }
                    else if (boton.tagName === 'A') { ocultarPanel(); setActivePanelButton(null); }
                });
            });
            botonLimpiar.addEventListener('click', () => { volverAlInicio(true, null); });

             iframeContenido.addEventListener('load', () => { if (activeContentElement === iframeContenido) hideLoader(); });
             iframeContenido.addEventListener('error', (e) => { console.error(`iFrame load err: ${iframeContenido.src}`, e); if (activeContentElement === iframeContenido) volverAlInicio(false, null); hideLoader(); });

            requestAnimationFrame(() => {
                panelNavegacion.style.transition = 'none'; panelNavegacion.style.transform = 'translateX(-100%)';
                panelNavegacion.setAttribute('aria-hidden', 'true'); menuToggle.setAttribute('aria-expanded', 'false');
                textoInicial.style.transition = 'none'; textoInicial.style.opacity = '1'; textoInicial.style.visibility = 'visible';
                textoInicial.style.transform = 'scale(1) rotateY(0deg) translateZ(0px)'; textoInicial.style.filter = 'blur(0px)';
                textoInicial.classList.add('content-visible'); activeContentElement = textoInicial;
                iframeContenido.style.opacity = '0'; iframeContenido.style.visibility = 'hidden';
                iframeContenido.style.transform = 'scale(0.96) rotateY(8deg) translateZ(-35px)'; iframeContenido.style.filter = 'blur(1px)';
                contentArea.style.transition = 'none';
                contentArea.style.transform = ''; contentArea.style.filter = ''; contentArea.style.borderRadius = '';
                contenedorPrincipal.classList.remove('panel-is-interacting', 'panel-is-open');
                setTimeout(() => {
                    panelNavegacion.style.transition = ''; panelNavegacion.style.transform = '';
                    textoInicial.style.transition = ''; iframeContenido.style.transition = '';
                    contentArea.style.transition = '';
                }, 50);
            });
        });
    </script>

</body>
    </html>
